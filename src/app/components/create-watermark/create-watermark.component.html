<div class="main-content">
  @if (imageUrl) {
  <div class="preview">
    <img
      [src]="imageUrl"
      alt="Bake Heaven - Apply Watermark Preview"
      id="watermark-preview"
      width="100%"
      height="100%"
    />
  </div>
  }
  <div class="input-container">
    <form [formGroup]="watermarkForm">
      <div class="form-wrapper uploader">
        <app-image-uploader
          [imageField]="'targetImage'"
          (targetedImage)="previewImage($event)"
        ></app-image-uploader>
      </div>
      <div class="form-wrapper">
        <mat-form-field appearance="fill">
          <mat-label>Watermark Postion</mat-label>
          <mat-select formControlName="watermarkPosition">
            @for (option of positionArray; track option) {
            <mat-option [value]="option.value">{{ option.label }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
      <div class="actions">
        <button
          mat-flat-button
          type="button"
          role="button"
          color="primary"
          [disabled]="!watermarkForm.valid"
          aria-label="Create Watermark"
          (click)="createWatermark()"
        >
          Create Watermark
        </button>
        <button
          mat-flat-button
          type="button"
          role="button"
          color="primary"
          [disabled]="!watermarkFlag"
          (click)="downloadImage()"
          aria-label="Download"
        >
          Download
        </button>
      </div>
    </form>
  </div>
</div>
